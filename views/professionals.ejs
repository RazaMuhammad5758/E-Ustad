<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('./partials/head') %>
    <title>Professionals</title>
    <style>
        body {
            background: url('/images/bg1.png') no-repeat center center fixed;
            background-size: cover;
        }

        .author-info {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .author-info img {
            border-radius: 50%;
        }

        .card {
            background-color: rgba(255, 255, 255, 0.9); /* optional for better readability */
        }
    </style>
</head>
<body>
    <%- include('./partials/nav') %>

    <div class="container mt-3 d-flex flex-row gap-3 flex-wrap">
        <% blogs.forEach(blog => { %>
            <div class="card" style="width: 18rem;">
                <!-- Show only the first image from the coverImageURL array -->
                <img src="<%= blog.coverImageURL[0] %>" class="card-img-top" alt="Blog Image">
                
                <div class="card-body">
                    <!-- Author Info: Display author's name and profile image -->
                    <% if (blog.createdBy && blog.createdBy.profileImageUrl && blog.createdBy.fullName) { %>
                        <div class="author-info">
                            <img src="<%= blog.createdBy.profileImageUrl %>" class="rounded-circle" width="30" height="30" alt="Author Image">
                            <strong><%= blog.createdBy.fullName %></strong>
                        </div>
                    <% } else { %>
                        <p><em>Author info not available</em></p>
                    <% } %>
                    
                    <h5 class="card-title"><%= blog.title %></h5>
                    <a href="/blog/<%= blog._id %>" class="btn btn-primary">View More</a>
                </div>
            </div>
        <% }) %>
    </div>

    <%- include('./partials/scripts') %>
</body>
</html>
